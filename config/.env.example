# Motion-Cam Configuration
# Copy this file to /etc/motion-cam/.env and edit as needed.

# --- Camera ---
# Main stream resolution for video recording (WIDTHxHEIGHT)
CAMERA_MAIN_RESOLUTION=1280x720
# Low-res stream resolution for motion detection (WIDTHxHEIGHT)
CAMERA_LORES_RESOLUTION=320x240
# Camera frame rate (lower = less CPU usage)
CAMERA_FRAMERATE=15

# --- Detection ---
# Minimum contour area (pixels) to count as real motion.
# Increase to ignore small movements; decrease for more sensitivity.
DETECTION_MIN_CONTOUR_AREA=500
# Gaussian blur kernel size for noise reduction (must be odd)
DETECTION_BLUR_KERNEL_SIZE=21
# MOG2 background learning rate (-1 = automatic)
DETECTION_LEARNING_RATE=-1
# Seconds of no motion before stopping a recording
DETECTION_COOLDOWN=5
# Maximum recording length in seconds (prevents runaway clips)
DETECTION_MAX_CLIP_DURATION=60

# --- Storage ---
# Directory where video clips and snapshots are saved
STORAGE_DATA_DIR=~/motion-cam-data
# Delete clips older than this many days
STORAGE_MAX_AGE_DAYS=7
# Maximum total disk usage in MB before oldest clips are deleted
STORAGE_MAX_DISK_USAGE_MB=4096

# --- Web Portal ---
# Port for the web interface
WEB_PORT=8080
# Bind address (0.0.0.0 = all interfaces)
WEB_HOST=0.0.0.0
